# 📰 newssorter

**newssorter** is a full-stack Java + React application that uses AI to automatically determine the **city** for each news article from a JSON file. Global news are handled separately. The goal is to use natural language processing to help users **search and filter news by city** in a user-friendly interface.

---

## 🚀 Overview

The application processes a list of news articles from a JSON source, uses AI to infer their associated cities, and displays them in an interactive UI. Global news items are loaded from a separate file. The project features a **Java/Spring backend** and a **React frontend**, bundled into a deployable web service. The UI allows convenient **searching by city** to explore localized news content.

---

## 🛠️ Tech Stack

- **Backend**: Java 17 or 21, Spring Framework
- **Frontend**: React (located in `frontend/reactapp`)
- **AI**: OpenRouter API (DeepSeek by default)
- **Build Tools**: Gradle, Shell Scripts

---

## 🧠 Selecting the AI Model

I chose **DeepSeek** as the AI model because it offers a generous free tier and higher credit limits per request. This allows the application to process **all articles in a single call**, rather than batching them in smaller groups. As a result, it reduces the number of API requests per page load — optimizing both **performance** and **cost-efficiency**.

> 🔧 You can change the AI model by modifying the model variables in `OpenRouterService.java`.

---

## ⚙️ How to Run

1. **Build the Frontend**:
   ```bash
   sh buildfrontend.bash -d dist
   ```

2. **Run the Backend**:
   ```bash
   OPENROUTER_API_KEY=your_api_key ./gradlew bootRun
   ```

   Replace `your_api_key` with your actual OpenRouter API key.

   > ℹ️ You can use a dummy key for local testing, but AI responses will fail unless a valid key is provided.

---

## 🧪 How to Test

Run backend tests using:

```bash
./gradlew test
```

---

## 🧼 Linters & Formatters

### JavaScript (from `frontend/reactapp`):

Run the following commands inside the `frontend/reactapp` directory:

- Lint:
  ```bash
  npm run lint
  ```
- Auto-fix:
  ```bash
  npm run lint:fix
  ```

### Java:

- Format:
  ```bash
  ./gradlew spotlessApply
  ```
- Checkstyle:
  ```bash
  ./gradlew checkstyleMain
  ./gradlew checkstyleTest
  ```

> 💡 `spotlessApply` can help with formatting, but won’t fix all Checkstyle issues.

---

## 🤖 Notes on ChatGPT usage

While I'm new to using ChatGPT, I’ve found it helpful during development. I don’t let it directly modify the codebase, but I use it thoughtfully — especially for style suggestions and boilerplate help.

During development:

- I **avoided relying** on ChatGPT for core logic.
- I **allowed more creativity** in stylesheets, but all AI-generated output was reviewed and edited manually (e.g. animations, fonts, and icons).

---

## 📦 Deployment & fatJar

1. **Build Frontend and Backend**:
   ```bash
   sh buildfrontend.bash -d dist
   ./gradlew bootJar
   ```

2. **Deploy** (example using Elastic Beanstalk):
   ```bash
   eb deploy
   ```

   Make sure to:

   - Set the necessary environment variables (e.g. API keys).
   - Check the `Procfile` to see how the deployed app is started.

---

## 📁 Project Structure

```
newssorter/
├── frontend/reactapp/              # React frontend source
├── frontend/reactapp/dist/         # Frontend static assets (pre-build)
├── src/                            # Java backend source
├── src/main/resources/static/      # Final static assets (post-build)
├── buildfrontend.bash              # Script to build and move frontend
├── build/libs/app.jar              # Fat JAR generated by bootJar
├── Procfile                        # Deployment startup instructions
└── ...
```